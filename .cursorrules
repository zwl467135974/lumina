# Lumina 项目开发规则

本文件定义了 Lumina 框架项目的开发规范和 AI 助手应遵循的规则。

## 项目技能包 (Skills)

本项目包含多个开发技能包，位于 `skills/` 目录下。AI 助手应根据上下文自动识别并使用相关技能包：

### 1. lumina_code_style
- **用途**: 代码风格和命名规范
- **路径**: `skills/lumina_code_style/SKILL.md`
- **触发条件**: 编写 Java 代码、创建新类、代码审查时

### 2. lumina_architecture
- **用途**: 简化分层架构规范
- **路径**: `skills/lumina_architecture/SKILL.md`
- **触发条件**: 设计模块结构、创建新模块、组织代码层次时

### 3. lumina_mybatis_plus
- **用途**: MyBatis-Plus 使用规范
- **路径**: `skills/lumina_mybatis_plus/SKILL.md`
- **触发条件**: 编写数据库访问代码、创建 Mapper、编写 SQL 时

### 4. lumina_api_design
- **用途**: API 接口设计规范
- **路径**: `skills/lumina_api_design/SKILL.md`
- **触发条件**: 设计 REST API、创建 Controller、定义 DTO 时

### 5. lumina_domain_model
- **用途**: 领域模型实践规范
- **路径**: `skills/lumina_domain_model/SKILL.md`
- **触发条件**: 设计领域实体、创建业务逻辑、实现领域方法时

### 6. lumina_json_serialization
- **用途**: JSON 序列化规范
- **路径**: `skills/lumina_json_serialization/SKILL.md`
- **触发条件**: 处理 JSON 序列化、创建 DTO、配置 Jackson 时

### 7. lumina_git_commit
- **用途**: Git Commit 信息生成规范
- **路径**: `skills/lumina_git_commit/SKILL.md`
- **触发条件**: 生成 Git 暂存区变更的提交信息时

## 技能包使用说明

1. **自动识别**: AI 助手应根据用户请求和代码上下文自动识别需要使用的技能包
2. **按需加载**: 优先加载技能包的元数据，需要时再加载完整内容
3. **引用规范**: 使用 `@skills/lumina_xxx/SKILL.md` 或 `skills/lumina_xxx/SKILL.md` 来引用特定技能包

## 项目结构规范

- **基础包名**: `io.lumina`
- **模块包名**: `io.lumina.{domain}`
- **模块划分**: 
  - `lumina-common`: 公共工具类
  - `lumina-framework`: 框架配置
  - `lumina-agent-core`: Agent 核心
  - `lumina-gateway`: 网关模块
  - `lumina-business-base`: 业务基础模块
  - `lumina-business-agent`: Agent 业务模块
  - `lumina-frontend`: 前端模块

## 代码规范要点

1. **命名规范**: 遵循 Lumina 代码风格规范（见 `lumina_code_style` skill）
2. **架构规范**: 遵循简化分层架构（见 `lumina_architecture` skill）
3. **API 设计**: 遵循 RESTful 规范（见 `lumina_api_design` skill）
4. **数据库操作**: 使用 MyBatis-Plus（见 `lumina_mybatis_plus` skill）
5. **JSON 处理**: 使用 Jackson（见 `lumina_json_serialization` skill）
6. **领域建模**: 遵循领域模型实践（见 `lumina_domain_model` skill）

## Git Commit 规范

生成 Git Commit 信息时，遵循 `lumina_git_commit` skill 中的规范：

- 格式: `<type>(<scope>): <subject>`
- 类型: feat, fix, docs, style, refactor, perf, test, chore, build
- 使用中文描述
- 详细描述大型变更

## 开发工作流

1. 创建新功能时，先检查相关技能包
2. 编写代码时，自动应用相关规范
3. 提交代码前，生成符合规范的 Commit 信息
4. 代码审查时，检查是否符合项目规范

